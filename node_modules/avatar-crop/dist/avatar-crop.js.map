{"version":3,"sources":["../src/avatar-crop.js"],"names":[],"mappings":"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","file":"avatar-crop.js","sourcesContent":["(function() {\n\n  var myRequestAnimFrame = (function() {\n    return window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      function(callback) {\n        window.setTimeout(callback, 1000 / 60);\n      };\n  })();\n\n  function clone(obj) {\n    var res = {};\n    for (var k in obj) res[k] = obj[k];\n    return res;\n  }\n\n  var defaults = {\n    interactive: true,\n    droppable: true,\n    selectable: true,\n    width: null,\n    height: null,\n    message: 'Drop an image or click to select one.',\n    minZoom: 1,\n    maxZoom: Infinity\n  }\n\n  function AvatarCropFilter(name, fn, defaults) {\n    this.name = name;\n    this.fn = fn;\n    this.configs = defaults || {};\n  }\n\n  AvatarCropFilter.prototype.exec = function(self, canvas) {\n    this.fn.call(this, self, canvas);\n  }\n\n  AvatarCropFilter.prototype.config = function(data) {\n    for (var k in data) {\n      this.configs[k] = data[k];\n    }\n  }\n\n  function AvatarCrop(el, options) {\n    if (!el) {\n      throw 'Missing element.';\n    }\n    var self = this;\n    this.canvas = AvatarCrop.createBoard();\n    this._callbacks = {};\n    this.filters = [];\n    this.config(options);\n    el.appendChild(this.canvas);\n    this.clear();\n  }\n\n  AvatarCrop.DEFAULT_WIDTH = 256;\n  AvatarCrop.DEFAULT_HEIGHT = 256;\n  AvatarCrop.DEFAULT_WHEEL_FACTOR = 100;\n  AvatarCrop.DEFAULT_ANIM_DURATE = 250;\n  AvatarCrop.DEFAULT_MODE = 'fit';\n  AvatarCrop.filters = {};\n  AvatarCrop.Filter = AvatarCropFilter;\n\n  AvatarCrop.addFilter = function(name, fn, config) {\n    AvatarCrop.filters[name] = {\n      fn: fn,\n      defaults: config\n    }\n  }\n\n  AvatarCrop.createBoard = function() {\n    var c = document.createElement('canvas');\n    c.style.border = 'solid 1px #DDD';\n    c.style.backgroundColor = '#FFF';\n    c.style.backgroundImage = 'url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzIgMzIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxyZWN0IGZpbGw9IiNDQ0NDQ0MiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPjxyZWN0IHg9IjE2IiB5PSIxNiIgZmlsbD0iI0NDQ0NDQyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+PC9zdmc+\")';\n    c.style.userSelect = 'none';\n    c.style.webkitUserSelect = 'none';\n    return c;\n  }\n\n  AvatarCrop.prototype.config = function(options) {\n    var old = clone(this.options || {});\n    var opt = this.options || clone(defaults);\n    if (options) {\n      for (var k in options) {\n        if (typeof opt[k] !== 'undefined') {\n          opt[k] = options[k];\n        }\n      }\n    }\n    if (this.canvas) {\n      this.canvas.width = opt.width || AvatarCrop.DEFAULT_WIDTH;\n      this.canvas.height = opt.height || AvatarCrop.DEFAULT_HEIGHT;\n      if (opt.interactive && !old.interactive) {\n        this.bindInteractive();\n      } else if (old.interactive) {\n        this.unbindInteractive();\n      }\n      if (opt.droppable && !old.droppable) {\n        this.bindDroppable();\n      } else if (old.droppable) {\n        this.unbindDroppable();\n      }\n      if (opt.selectable && !old.selectable) {\n        this.bindSelectable();\n      } else if (old.selectable) {\n        this.unbindSelectable();\n      }\n    }\n    this.options = opt;\n  }\n\n  AvatarCrop.prototype.addEventListener = function(name, fn) {\n    this._callbacks[name] = this._callbacks[name] || [];\n    this._callbacks[name].push(fn);\n  }\n\n  AvatarCrop.prototype.fire = function(evt) {\n    var clbs = this._callbacks[evt] || [];\n    for (var i = 0, len = clbs.length; i < len; i++) {\n      clbs[i].apply(this);\n    }\n  }\n\n  AvatarCrop.prototype.bindInteractive = function() {\n    var self = this,\n        canvas = this.canvas,\n        ctx = canvas.getContext('2d'),\n        canMouseX = 0,\n        canMouseY = 0,\n        wheel = 0,\n        isDragging = false;\n\n    function handleMouseDown(e) {\n      if (self.data) {\n        canMouseX = e.clientX + self._offsetX;\n        canMouseY = e.clientY + self._offsetY;\n        isDragging = true;\n      }\n    }\n\n    function handleMouseUp(e) {\n      isDragging = false;\n    }\n\n    function handleMouseMove(e) {\n      if (isDragging) {\n        self.move(e.clientX - canMouseX, e.clientY - canMouseY);\n      }\n    }\n\n    function handleMouseWheel(e) {\n      if (self.data) {\n        if (isDragging) return true;\n        e.stopPropagation();\n        e.preventDefault();\n        var delta = -(e.detail ? e.detail * (-120) : e.wheelDelta) / AvatarCrop.DEFAULT_WHEEL_FACTOR;\n        self.zoom(self._zoom + delta);\n        wheel = delta;\n        return false;\n      }\n    }\n\n    function handleDblClick(e) {\n      if (self.data) {\n        e.stopPropagation();\n        e.preventDefault();\n        if (self._zoom == 1) {\n          if (self._offsetX == 0 && self._offsetY == 0) {\n            self.fill();\n          } else {\n            self.center();\n          }\n        } else {\n          self.fit();\n        }\n        return false;\n      }\n    }\n\n    canvas.addEventListener('mousedown', handleMouseDown, false);\n    canvas.addEventListener('mousemove', handleMouseMove, false);\n    canvas.addEventListener('mouseup', handleMouseUp, false);\n    canvas.addEventListener('mouseout', handleMouseUp, false);\n    canvas.addEventListener('dblclick', handleDblClick, false);\n    canvas.addEventListener('mousewheel', handleMouseWheel, false);\n    canvas.addEventListener('DOMMouseScroll', handleMouseWheel, false);\n  }\n\n  AvatarCrop.prototype.unbindInteractive = function() {\n    var canvas = this.canvas;\n    canvas.removeEventListener('mousedown');\n    canvas.removeEventListener('mousemove');\n    canvas.removeEventListener('mouseup');\n    canvas.removeEventListener('mouseout');\n    canvas.removeEventListener('dblclick');\n    canvas.removeEventListener('mousewheel');\n    canvas.removeEventListener('DOMMouseScroll');\n  }\n\n  AvatarCrop.prototype.bindDroppable = function() {\n    var self = this,\n        canvas = this.canvas;\n    if (typeof FileReader !== 'undefined') {\n      canvas.addEventListener('drop', function(e) {\n        e.preventDefault();\n        var files = e.dataTransfer.files;\n        if (files.length > 0) {\n          self.handleFile(files[0]);\n        }\n      });\n\n      canvas.addEventListener('dragover', function(e) {\n        e.preventDefault();\n      }, false);\n    }\n  }\n\n  AvatarCrop.prototype.unbindDroppable = function() {\n    var canvas = this.canvas;\n    canvas.removeEventListener('dragover');\n    canvas.removeEventListener('drop');\n  }\n\n  AvatarCrop.prototype.bindSelectable = function () {\n    var self = this,\n        canvas = this.canvas;\n    canvas.addEventListener('click', function(e) {\n      if (!self.data) {\n        var input = document.createElement('input');\n        input.type = 'file';\n        input.style.visibility = 'hidden';\n        document.body.appendChild(input);\n        var ev = document.createEvent('MouseEvents');\n        ev.initEvent('click', true, true);\n        ev.synthetic = true;\n\n        input.addEventListener('change', function(fileEv) {\n          if (this.files && this.files[0]) {\n            self.handleFile(this.files[0]);\n          }\n          if (input.parentNode) {\n            document.body.removeChild(input);\n          }\n        });\n        setTimeout(function() {\n          if (input.parentNode) {\n            document.body.removeChild(input);\n          }\n        }, 20 * 1000);\n\n        input.dispatchEvent(ev, true);\n      }\n    });\n  }\n\n  AvatarCrop.prototype.unbindSelectable = function() {\n    var canvas = this.canvas;\n    canvas.removeEventListener('click');\n  }\n\n  AvatarCrop.prototype.setLoadState = function(load) {\n    var self = this,\n      start = Date.now(),\n      lines = 16,\n      canvas = this.canvas,\n      cW = canvas.width,\n      cH = canvas.height,\n      context = canvas.getContext('2d');\n    if (load) {\n\n      self._loading = true;\n      canvas.style.cursor = 'progress';\n      var draw = function() {\n        myRequestAnimFrame(function() {\n          var rotation = parseInt(((new Date() - start) / 1000) * lines) / lines;\n          context.save();\n          context.clearRect(0, 0, cW, cH);\n          context.translate(cW / 2, cH / 2);\n          context.rotate(Math.PI * 2 * rotation);\n          for (var i = 0; i < lines; i++) {\n            context.beginPath();\n            context.rotate(Math.PI * 2 / lines);\n            context.moveTo(cW / 10, 0);\n            context.lineTo(cW / 4, 0);\n            context.lineWidth = cW / 30;\n            context.strokeStyle = \"rgba(0, 0, 0,\" + i / lines + \")\";\n            context.stroke();\n          }\n          context.restore();\n          if (self._loading) {\n            draw();\n          }\n        });\n      }\n      draw();\n    } else {\n      context.clearRect(0, 0, cW, cH);\n      canvas.style.cursor = 'default';\n      delete this._loading;\n    }\n  }\n\n  AvatarCrop.prototype.handleFile = function(file) {\n    if (file.type.indexOf('image') !== -1) {\n      var self = this,\n        reader = new FileReader();\n      self.setLoadState(true);\n      self.canvas.style.cursor = 'progress';\n      reader.onload = function(e) {\n        self.setLoadState(false);\n        self.setSource(e.target.result);\n      };\n      reader.onerror = function() {\n        self.setLoadState(false);\n      }\n      reader.readAsDataURL(file);\n    }\n  }\n\n  AvatarCrop.prototype.setSource = function(data) {\n    var self = this,\n      canvas = this.canvas,\n      image = new Image();\n\n    self.setLoadState(true);\n    image.addEventListener('load', function() {\n      self.fire('load');\n      self.setLoadState(false);\n      self.data = image;\n      self.reset();\n      if (self.options.interactive) {\n        canvas.style.cursor = 'move';\n      } else {\n        canvas.style.cursor = 'default';\n      }\n    });\n    img.addEventListener('error', function() {\n      self.setLoadState(false);\n    });\n    image.src = data;\n  }\n\n  AvatarCrop.prototype.fit = function(durate) {\n    this.moveAndZoom(0, 0, 1, durate || AvatarCrop.DEFAULT_ANIM_DURATE);\n  }\n\n  AvatarCrop.prototype.fill = function(durate) {\n    if (this.data) {\n      var image = this.data,\n        imageW = image.width,\n        imageH = image.height;\n      if (imageH > imageW) {\n        this.moveAndZoom(0, 0, imageH / imageW, durate || AvatarCrop.DEFAULT_ANIM_DURATE);\n      } else {\n        this.moveAndZoom(0, 0, imageW / imageH, durate || AvatarCrop.DEFAULT_ANIM_DURATE);\n      }\n    }\n  }\n\n  AvatarCrop.prototype.move = function(x, y, durate) {\n    this.moveAndZoom(x, y, this._zoom, durate);\n  }\n\n  AvatarCrop.prototype.zoom = function(zoom, durate) {\n    var x = (-this._offsetX / this._zoom) * zoom,\n      y = (-this._offsetY / this._zoom) * zoom;\n    this.moveAndZoom(x, y, zoom, durate);\n  }\n\n  AvatarCrop.prototype.moveAndZoom = function(x, y, zoom, durate) {\n    if (this.data) {\n      durate = durate || 0;\n      x = -x;\n      y = -y;\n      var self = this,\n        options = this.options,\n        start = Date.now(),\n        end = start + durate,\n        startZoom = this._zoom,\n        startX = this._offsetX,\n        startY = this._offsetY,\n        rangeZoom = zoom - startZoom,\n        rangeX = x - startX,\n        rangeY = y - startY;\n\n      zoom = Math.min(Math.max(zoom, options.minZoom), options.maxZoom);\n\n      function setVals(xTmp, yTmp, zoomTmp) {\n        self._offsetX = xTmp;\n        self._offsetY = yTmp;\n        self._zoom = zoomTmp;\n        self.render();\n      }\n\n      if (durate) {\n        var animate = function() {\n          myRequestAnimFrame(function() {\n            var time = Date.now(),\n              frame = Math.min(time - start, durate) / durate,\n              fracZoom = rangeZoom * frame,\n              zoomTmp = startZoom + fracZoom,\n              fracX = rangeX * frame,\n              xTmp = startX + fracX,\n              fracY = rangeY * frame,\n              yTmp = startY + fracY;\n\n            setVals(xTmp, yTmp, zoomTmp);\n            if (time < end) animate();\n          }, 10);\n        }\n        animate();\n      } else {\n        setVals(x, y, zoom);\n      }\n    }\n  }\n\n  AvatarCrop.prototype.reset = function(durate) {\n    if (typeof this[AvatarCrop.DEFAULT_MODE] == 'function') {\n      this[AvatarCrop.DEFAULT_MODE].call(this, durate);\n    }\n  }\n\n  AvatarCrop.prototype.center = function(durate) {\n    this.moveAndZoom(0, 0, this._zoom, durate || AvatarCrop.DEFAULT_ANIM_DURATE);\n  }\n\n  AvatarCrop.prototype.clear = function() {\n    this.filters = [];\n    this._offsetX = 0;\n    this._offsetY = 0;\n    this._zoom = 1;\n    this.data = null;\n    var canvas = this.canvas,\n        ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.textAlign = 'center';\n    ctx.fillText(this.options.message, canvas.width / 2, canvas.height / 2);\n    if (this.options.selectable) {\n      canvas.style.cursor = 'pointer';\n    }\n    this.fire('clear');\n  }\n\n  AvatarCrop.prototype.render = function() {\n    if (this.data) {\n      var self = this,\n        image = this.data,\n        zoom = this._zoom,\n        canvas = this.canvas,\n        ctx = canvas.getContext('2d'),\n        imageW = image.width,\n        imageH = image.height,\n        rap = imageW / imageH,\n        filters = this.filters;\n\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      if (rap < 1) {\n        var w = canvas.height * rap;\n        ctx.drawImage(image, 0, 0, imageW, imageH, (canvas.width - w * zoom) / 2 - this._offsetX, (canvas.height - canvas.height * zoom) / 2 - this._offsetY, w * zoom, canvas.height * zoom);\n      } else {\n        var h = canvas.width / rap;\n        ctx.drawImage(image, 0, 0, imageW, imageH, (canvas.width - canvas.width * zoom) / 2 - this._offsetX, (canvas.height - h * zoom) / 2 - this._offsetY, canvas.width * zoom, h * zoom);\n      }\n\n      for (var i = 0, len = filters.length; i < len; i++) {\n        filters[i].exec(this, canvas);\n      }\n      clearTimeout(self.fireTimeout);\n      self.fireTimeout = setTimeout(function() {\n        self.fire('change');\n        delete self.fireTimeout;\n      }, 250);\n    }\n  }\n\n  AvatarCrop.prototype.save = function() {\n    if (this.data) {\n      return this.canvas.toDataURL();\n    }\n  }\n\n  AvatarCrop.prototype.hasFilter = function(name) {\n    var filters = this.filters;\n    for (var i = 0, len = filters.length; i < len; i++) {\n      if (filters[i].name == name) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  AvatarCrop.prototype.addFilter = function(name, fn) {\n    if (this.hasFilter(name)) {\n      return;\n    }\n    if (typeof fn == 'function') {\n      this.filters.push(new AvatarCrop.Filter(name, fn));\n      this.render();\n    } else if (AvatarCrop.filters[name]) {\n      var filterDef = AvatarCrop.filters[name],\n        filter = new AvatarCrop.Filter(name, filterDef.fn, filterDef.defaults);\n      if (fn) {\n        filter.config(fn);\n      }\n      this.filters.push(filter);\n      this.render();\n    }\n  }\n\n  AvatarCrop.prototype.removeFilter = function(name) {\n    var filters = this.filters;\n    for (var i = 0, len = filters.length; i < filters.length; i++) {\n      if (filters[i].name == name) {\n        this.filters.splice(i, 1);\n        this.render();\n        return true;\n      }\n    }\n  }\n\n  AvatarCrop.prototype.removeAllFilters = function() {\n    this.filters = [];\n    this.render();\n  }\n\n  AvatarCrop.prototype.updateFilter = function(name, options) {\n    var filters = this.filters;\n    for (var i = 0, len = filters.length; i < filters.length; i++) {\n      if (filters[i].name == name) {\n        filters[i].config(options);\n        this.render();\n      }\n    }\n  }\n\n  if (typeof module != 'undefined') {\n    module.exports = AvatarCrop;\n  } else if (typeof define == 'function' && typeof define.amd == 'object') {\n    define(function() {\n      return {\n        'AvatarCrop': AvatarCrop\n      }\n    });\n  } else {\n    window.AvatarCrop = AvatarCrop;\n  }\n\n})(window);\n"]}