<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bower_components/iron-icons/maps-icons.html">
<link rel="import" href="/bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="/redux/grid-redux-store.html">
<link rel="import" href="/elements/thegrid/grid-styles.html">

<dom-module id="mobile-header">
	<template>
    <style include="grid">
      :host {
        background: linear-gradient(180deg, #212121 35.36%, rgba(33, 33, 33, 0) 100%);
        background-blend-mode: darken;
        width: 100%;
        height: 150px;
        position: absolute;
        top: 0;
        left: 0;
      }

    </style>

    <app-toolbar>
      <paper-icon-button icon="menu" on-tap="openDrawer" class="red"></paper-icon-button>
      <div main-title></div>
      <paper-icon-button icon="maps:my-location" on-tap="setCurrentLocation" class="red"></paper-icon-button>
      <paper-icon-button icon="filter-list" class="red"></paper-icon-button>
    </app-toolbar>
    <app-toolbar>
      <div main-title>The Grid</div>
    </app-toolbar>
	</template>

  <script>

    class MobileHeader extends ReduxBehavior(Polymer.Element) {
      static get is() { return 'mobile-header'; }

      static get actions() {
        return {
          openDrawer() {
            return {
              type: 'OPEN_DRAWER'
            }
          }
        }
      }

      openDrawer() {
        this.dispatch('openDrawer');
      }

      setCurrentLocation() {

      }

    }

    customElements.define(MobileHeader.is, MobileHeader);
  	// (function(){
    //
  	// 	Polymer({
  	// 		is: 'grid-mobile-header',
    //     behaviors: [GridBehaviors.FoldBehavior],
    //     openDrawer: function() {
    //       this.drawer.open();
    //     },
    //     setCurrentLocation: function() {
    //       console.log('setting current location');
    //       this.view.setCurrentLocation();
    //     }
    //
  	// 	});
  	// }());
  </script>
</dom-module>
