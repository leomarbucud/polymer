<link rel="import" href="../bower_components/polymer/polymer.html">

<script>

  var GridNavigation = Polymer.dedupingMixin(function(superClass){
    return class GridNavigation extends superClass {

      static get properties() {
        return {
          url: {
            type: Object,
            value: function() {
              return {
                APP_URL : location.hostname,
                API_BASE_URL : (location.hostname == 'dev.thegrid.com') ? 'https://api.thegrid.com' : 'https://dev-thegrid.azurewebsites.net',
                API_URL : API_BASE_URL + '/api',
                HOME_URL : '/',
                LOGIN_URL : '/login',
                REGISTER_URL : '/register',
                FORGOT_URL : '/forgot',
                PROFILE_URL : '/profile',
                PROFILE_SKILLS_URL : '/profile/skills',
                VERIFY_URL : '/verification',
                SETUP_URL : '/profile/setup',
                LOGOUT_URL : '/logout',
                POSTS_URL : '/posts',
                POSTS_ADD_URL : '/posts/add',
                SEARCH_URL : '/search',
                BIDS_URL: '/bids',
                INBOX_URL: '/inbox',
                SETTINGS_URL: '/settings',
                TRANSACTIONS_UR: '/transactions',
                HELP_URL: '/help-feedback'
              }
            }
          }
        }
      }
      constructor() {
        super();
      }

      updateTitle(title) {
        window.dispatchEvent(new CustomEvent('app:title_change', { detail: { title: title } }) );
      }

      redirect(url) {
        if( ! url ) return;
        window.history.pushState({}, null, url);
        window.dispatchEvent(new CustomEvent('location-changed'));
      }

      redirectHome() {
        this.redirect(this.url.HOME_URL);
        this.updateTitle('The Grid');
      }

      redirectLogin() {
        this.redirect(this.url.LOGIN_URL);
        this.updateTitle('Login - The Grid');
      }

      redirectRegister() {
        this.redirect(this.url.REGISTER_URL);
        this.updateTitle('Register - The Grid');
      }

      redirectForgot() {
        this.redirect(this.url.FORGOT_URL);
        this.updateTitle('Forgot Password - The Grid');
      }

      redirectProfile() {
        this.redirect(this.url.PROFILE_URL);
        this.updateTitle('Profile - The Grid');
      }

      redirectProfileSkills() {
        this.redirect(this.url.PROFILE_SKILLS_URL);
        this.updateTitle('Skills - The Grid');
      }

      redirectVerify() {
        this.redirect(this.url.VERIFY_URL);
        this.updateTitle('Verify - The Grid');
      }

      redirectSetup() {
        this.redirect(this.url.SETUP_URL);
      }

      redirectLogout() {
        // this.redirect(this.url.LOGOUT_URL);
        window.location.href = this.url.LOGOUT_URL;
      }

      redirectPosts() {
        this.redirect(this.url.POSTS_URL);
        this.updateTitle('Posts - The Grid');
      }

      redirectPostsAdd() {
        this.redirect(this.url.POSTS_ADD_URL);
        this.updateTitle('Add Post - The Grid');
      }

      redirectSearch() {
        this.redirect(this.url.SEARCH_URL);
        this.updateTitle('Search - The Grid');
      }

      redirectBids() {
        this.redirect(this.url.BIDS_URL);
        this.updateTitle('Bids - The Grid');
      }

      redirectInbox() {
        this.redirect(this.url.INBOX_URL);
        this.updateTitle('Inbox - The Grid');
      }
      
      redirectSettings() {
        this.redirect(this.url.SETTINGS_URL);
        this.updateTitle('Settings - The Grid');
      }

      redirectTransactions() {
        this.redirect(this.url.TRANSACTIONS_UR);
        this.updateTitle('Transactions - The Grid');
      }
      
      redirectHelp() {
        this.redirect(this.url.HELP_URL);
        this.updateTitle('Help & Feedback - The Grid');
      }

    }
  });

</script>
