<html><head></head><body><dom-module id="grid-reset-password"><template><style include="iron-flex grid">:host{display:block;position:relative;width:100%;height:100%;margin:0 auto;background:linear-gradient(209.36deg, #FF3B30 0%, #FF2D55 100%);}.header-action{height:56px;padding:16px;}</style><app-location route="{{route}}"></app-location><app-route route="{{route}}" pattern="/reset-password/:token" data="{{token}}"></app-route><div class="header-action flex layout horizontal"><iron-icon icon="chevron-left" class="white pointer" on-click="redirectLogin"></iron-icon><span class="flex"></span><iron-icon icon="more-vert" class="white pointer"></iron-icon></div><div class="p-y-1"><div class="header-text-container"><h1 class="header-text m-0">Reset Password</h1></div><form class="form" id="resetForm"><div class="form-group"><input id="username" type="text" class="form-input" placeholder="Email" on-keyup="updateSubmit" on-blur="updateSubmit"></div><div class="form-group"><input id="password" type="password" class="form-input" placeholder="Enter New Password"></div><div class="form-group"><input id="password_confirmation" type="password" class="form-input" placeholder="Enter New Password Again"></div><div class="form-group"><paper-button class="w-100 white" on-tap="resetPassword">Reset</paper-button></div></form></div><paper-toast id="resetErrToast" class="fit-bottom"></paper-toast><paper-toast id="resetSuccessToast" duration="0" class="fit-bottom"></paper-toast><template is="dom-if" if="[[isSending]]"><div class="overlay"><paper-spinner active=""></paper-spinner></div></template></template><script>class GridResetPassword extends GridNavigation(Polymer.Element){static get is(){return'grid-reset-password'}static get properties(){return{buttonText:{type:String,value:null},isSending:{type:Boolean,value:!1}}}back(){window.location.href=LOGIN_URL}updateSubmit(){const a=this.$.username,b=/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i,c=/([+]?[0-9])$/i;this.buttonText=b.test(a.value)?'Email':c.test(a.value)?'SMS':''}resetPassword(){const a=this.$.username.value,b=this.$.password.value,c=this.$.password_confirmation.value,d=this.token.token,e=this;e.isSending=!0,axios.post('https://api.thegrid.com/api/password/reset',{email:a,password:b,password_confirmation:c,token:d}).then((a)=>{e.$.resetSuccessToast.fitInto=this,e.$.resetSuccessToast.text=a.data.message,e.$.resetSuccessToast.open(),e.$.resetForm.reset(),e.isSending=!1,setTimeout(function(){e.redirectLogin()},3e3)}).catch((a)=>{if(a.response){var b=a.response.data,c=[];for(var d in b)c.push(b[d]);e.$.resetErrToast.fitInto=this,e.$.resetErrToast.innerHTML=c.join('<br/>'),e.$.resetErrToast.open()}e.isSending=!1})}}customElements.define(GridResetPassword.is,GridResetPassword);</script></dom-module></body></html>